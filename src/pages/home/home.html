<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div *ngIf="UserInfo">
    <h3>Welcome <strong>{{user}}</strong> to the Chatham ICS Scanning App!</h3>
    <p> This is just a sample project that shows how much better we are than TechFriends </p>
  </div>

  <div *ngIf="!UserInfo">
    <h2>Welcome to the Chatham ICS ServiceDesk App!</h2>
    <h4>Please enter your API key to continue.</h4>
    <ion-item>
      <ion-label>ServiceDesk API</ion-label>
    </ion-item>
    <ion-item style="font:x-small ; text-transform: uppercase" autocapitalize="characters">
      <ion-input type="text" [(ngModel)]="apiKey" placeholder="XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX" aria-placeholder="XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"
        (ngModelChange)="apiKey = $event.toLocaleUpperCase()"></ion-input>
    </ion-item>
    <ion-item>
      <button ion-button class="button button-block" color="primary" (click)="SaveApi(apiKey)">Submit API</button>
    </ion-item>
  </div>

  <ion-item *ngIf="UserInfo">
    <button ion-button class="button button-block icon icon-left ion-home" (click)="GetWorkorders()" color="secondary">Get
      Open Workorders</button>
  </ion-item>

  <ion-item ion-row class="ion-row" *ngFor="let s of WorkOrders">
    <li class="bold" >Work Order: {{s.WORKORDERID}} </li>
    <ul class="item-text-wrap" style="word-wrap: break-word; font-size:smaller" text-wrap>
      <li>SUBJECT: {{s.SUBJECT}} </li>
      <li>REQUESTER: {{s.REQUESTER}} </li>
      <li>CREATED: {{s.CREATEDTIME}}</li>
      <li>PRIORITY: {{s.PRIORITY}} </li>
      <li><button ion-button smaller round outline color="primary" data-id={{s.WORKORDERID}} (click)='OpenDetail(s.WORKORDERID)'>Details</button></li>
    </ul>
  </ion-item>



</ion-content>